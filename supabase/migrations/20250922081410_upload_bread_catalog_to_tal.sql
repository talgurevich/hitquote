-- Script to upload bread station catalog to tal.gurevich@gmail.com account
-- This script inserts all bread station products into Tal's tenant

-- Temporarily disable RLS for this migration
SET row_security = off;

DO $$
DECLARE
    tal_user_id UUID;
BEGIN
    -- Get Tal's user ID from auth.users table
    SELECT id INTO tal_user_id FROM auth.users WHERE email = 'tal.gurevich@gmail.com';
    
    -- Verify Tal's user exists
    IF tal_user_id IS NULL THEN
        RAISE EXCEPTION 'Could not find user ID for tal.gurevich@gmail.com. Please ensure he has signed in first.';
    END IF;
    
    RAISE NOTICE 'Found Tal user ID: %', tal_user_id;
    RAISE NOTICE 'Uploading bread station catalog...';
    
    -- Insert all bread station catalog products for Tal
    INSERT INTO product (tenant_id, category, name, unit_label, base_price, notes, options) VALUES
    (tal_user_id, 'כריכונים', 'מיני קרואסנדוויץ׳', '16 יח׳', 168.00, 'ניתן לשלב 2 סוגים במגש', 'גאודה | סלט ביצים'),
    (tal_user_id, 'כריכונים', 'כריכונים בלחם כוסמין פרוס', '18 יח׳', 190.00, 'ניתן לשלב 2 סוגים במגש', 'טונה | סלט ביצים | אנטיפסטי ובולגרית | חציל וביצה | חביתה'),
    (tal_user_id, 'כריכונים', 'כריכונים במיני בריוש', '12 יח׳', 150.00, 'ניתן לשלב 2 סוגים במגש', 'טונה | סלט ביצים | אנטיפסטי ובולגרית | חציל וביצה | חביתה'),
    (tal_user_id, 'כריכונים', 'כריכונים בפרעצל', '12 יח׳', 162.00, 'ניתן לשלב 2 סוגים במגש', 'טונה | סלט ביצים | אנטיפסטי ובולגרית | חציל וביצה | חביתה'),
    (tal_user_id, 'כריכונים - פרימיום', 'כריכונים פרימיום בפרעצל', '12 יח׳', 210.00, 'ניתן לשלב 2 סוגים במגש', 'קפרזה | סלמון | אבוקדו (בעונה)'),
    (tal_user_id, 'כריכונים - פרימיום', 'כריכונים במיני פרעצל פרימיום', '12 יח׳', 220.00, '', 'חלומי'),
    (tal_user_id, 'כריכונים - פרימיום', 'כריכונים בייגל אמריקאי חצוי', '12 יח׳', 180.00, '', 'גאודה | סלט ביצים | סלמון (+42)'),
    (tal_user_id, 'כריכונים - פרימיום', 'כריכונים בייגל אמריקאי חצוי פרימיום', '12 יח׳', 220.00, 'ניתן לשלב 2 סוגים במגש', 'קפרזה | סלמון | אבוקדו (בעונה)'),
    (tal_user_id, 'מאפים מלוחים', 'לחמים ומטבל', 'מגש', 98.00, 'ניתן לשלב 3 סוגים', 'שיפון | אגוזים | זיתים | אגוזים צימוקים | דגנים | כוסמין'),
    (tal_user_id, 'מאפים מלוחים', 'ירקות אנטיפסטי', 'מגש', 145.00, '', 'חצילים בטטה בצל סגול זוקיני פלפל אדום שרי'),
    (tal_user_id, 'מאפים מלוחים', 'ירקות טריים', 'מגש', 120.00, '', 'מלפפון פלפלים צבעוניים גזר שרי צנונית זיתי קלמטה בזיליקום'),
    (tal_user_id, 'מאפים מלוחים', 'מאפים מלוחים (28-34 יח׳)', 'מגש', 125.00, '', 'גבינה | תפו״א | פטריות | פריך גבינה | פריך תרד וגבינה | פיצה'),
    (tal_user_id, 'סלטים גדולים', 'סלט בולגרית', 'מגש', 135.00, '', 'תערובת חסות מלפפון עגבניות שרי זיתי קלמטה בצל סגול נענע שמן זית זעתר קרוטונים'),
    (tal_user_id, 'סלטים גדולים', 'סלט בולגרית עם פטה', 'מגש', 139.00, '', 'תערובת חסות מלפפון עגבניות שרי זיתי קלמטה בצל סגול שמן זית לימון זעתר פטה'),
    (tal_user_id, 'סלטים גדולים', 'סלט קיסר', 'מגש', 139.00, '', 'חסה קיסר ביצה שבבי פרמזן קרוטונים בצל סגול רוטב קיסר'),
    (tal_user_id, 'סלטים גדולים', 'סלט קיסר פרימיום', 'מגש', 145.00, '', 'חסה קיסר שרי ביצה שבבי פרמזן קרוטונים רוטב קיסר'),
    (tal_user_id, 'סלטים גדולים', 'סלט מוצרלה', 'מגש', 145.00, '', 'חסות ועלים שרי זיתי קלמטה בזיליקום תפוז אגוזי מלך בלסמי מצומצם'),
    (tal_user_id, 'סלטים גדולים', 'סלט קינואה ועדשים', 'מגש', 155.00, '', 'תערובת חסות קוביות בטטה עגבניות שרי עדשים קינואה שקדים קלוים רוטב אסיאטי'),
    (tal_user_id, 'סלטים גדולים', 'סלט פסטה', 'מגש', 155.00, '', 'תערובת חסות עגבניות שרי פלפל קלוי קוביות בטטה גבינת פטה שמן זית לימון'),
    (tal_user_id, 'סלטים גדולים', 'סלט טונה', 'מגש', 155.00, '', 'תערובת חסות עגבניות שרי מלפפון סלט טונה ביצה קשה זיתי קלמטה שמן זית לימון'),
    (tal_user_id, 'סלטים גדולים', 'סלט קפרזה', 'מגש', 155.00, '', 'תערובת חסות עגבניות שרי בצל סגול בייבי מוצרלה שמן זית לימון חומץ בלסמי מצומצם'),
    (tal_user_id, 'סלטים גדולים', 'סלט חלומי', 'מגש', 155.00, '', 'תערובת חסות עגבניות שרי מלפפון בצל סגול קוביות בטטה זיתי קלמטה חלומי פטה שמן זית לימון זעתר'),
    (tal_user_id, 'סלטים גדולים', 'סלט נבטים אסיאטי', 'מגש', 155.00, '', 'רצועות כרוב וגזר אטריות שעועית נבטים נענע כוסברה פקאן בוטנים קשיו שומשום קצח רוטב אסיאטי'),
    (tal_user_id, 'מגשי אירוח', 'סלמון', 'מגש', 200.00, '', 'שמנת מלפפון צנונית עלים'),
    (tal_user_id, 'מגשי אירוח', 'סלט ביצים', 'מגש', 180.00, '', 'חמוצים עגבניה עלים'),
    (tal_user_id, 'מגשי אירוח', 'גאודה', 'מגש', 180.00, '', 'מלפפון עגבניה עלים'),
    (tal_user_id, 'מגשי אירוח', 'קפרזה', 'מגש', 200.00, '', 'פסטו עגבניה בלסמי בזיליקום'),
    (tal_user_id, 'מאפים מתוקים', 'מאפים מתוקים (20-24 יח׳)', 'מגש', 95.00, 'ניתן לשלב 2 סוגים', 'רוגלך | גביניות | קרואסון חמאה | קרואסון שוקולד | קרואסון קינמון'),
    (tal_user_id, 'מאפים מתוקים', 'רוגלך (32-34 יח׳)', 'מגש', 95.00, '', 'שוקולד'),
    (tal_user_id, 'מאפים מתוקים', 'רוגלך הבית פרימיום (40-45 יח׳)', 'מגש', 198.00, '', 'שוקולד | קינמון | פיסטוק שוקולד לבן | חלווה | שוקולד חלווה | שקדים | פיסטוק | גבינה'),
    (tal_user_id, 'מאפים מתוקים', 'עוגות שמרים', 'מגש', 108.00, 'ניתן לשלב 2 סוגים', 'שוקולד | חלווה'),
    (tal_user_id, 'מאפים מתוקים', 'רולדות פרסבורגר', 'מגש', 125.00, 'ניתן לשלב 2 סוגים', 'פרסבורגר | גבינת ריקוטה'),
    (tal_user_id, 'עוגות ועוגיות', 'בחושות', 'מגש', 105.00, 'ניתן לשלב 2 סוגים', 'שוקולד | תפוז | גזר אגוזים | שיש | לימון | אוכמניות | בננה אגוזים (טבעונית)'),
    (tal_user_id, 'עוגות ועוגיות', 'עוגיות מתוקות', 'מגש', 139.00, '', 'ריבה | שוקולד | אלפחורס | ביסקוטי'),
    (tal_user_id, 'עוגות ועוגיות', 'עוגיות מלוחות', 'מגש', 95.00, '', ''),
    (tal_user_id, 'עוגות ועוגיות', 'בראוניז וכדורי שוקולד', 'מגש', 142.00, '', '20 יח׳ כדורים | 12 קוביות בראוניז'),
    (tal_user_id, 'פירות וגבינות', 'פירות העונה', 'מגש', 195.00, '', ''),
    (tal_user_id, 'פירות וגבינות', 'גבינות', 'מגש', 245.00, '', 'בולגרית | גאודה | קממבר | עיזים מתובל בזעתר | ענבים | אגוזי מלך'),
    (tal_user_id, 'פירות וגבינות', 'כוסות מוזלי', '12 יח׳', 159.00, '', 'פירות טריים וסילאן | פירות יער');
    
    RAISE NOTICE 'Successfully uploaded % bread station products to tal.gurevich@gmail.com account', 39;
    
END $$;

-- Re-enable RLS
SET row_security = on;